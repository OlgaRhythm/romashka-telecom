### –í–∞–ª–∏–¥–∞—Ü–∏—è

- –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ü–∏—Ñ—Ä, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ - 15 —Å–∏–º–≤–æ–ª–æ–≤ (https://habr.com/ru/companies/tensor/articles/752122/)
- –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è: ISO 8601, –≥–≥–≥–≥-–º–º-–¥–¥T—á—á:–º–º:—Å—Å

### –ê–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–≤–æ–Ω–∫–æ–≤
1. –ß–∏—Ç–∞–µ–º –Ω–æ–º–µ—Ä–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–≤–æ–Ω–∫–æ–≤ –∏ –∑–∞–ø–∏—Å—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤
3. –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∑–∞–ø–∏—Å–µ–π –≤—Å–µ—Ö –∑–≤–æ–Ω–∫–æ–≤
4. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ CDR —Ñ–∞–π–ª–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV

–ú–æ–¥—É–ª—å –æ—Ç–ø—Ä–∞–≤–∫–∏
5. –ü–æ –º–µ—Ä–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å BRT

–ù—É–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –æ –∑–≤–æ–Ω–∫–∞—Ö % 10 == 0
–ó–∞–ø–∏—Å–∏, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª–Ω–æ—á—å—é, –¥–æ–ª–∂–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ CDR

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

#### 1

–ß–∏—Å–ª–æ 4 —É –ø—É–ª–∞ –ø–æ—Ç–æ–∫–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±—ã—á–Ω–æ –±–µ—Ä–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä

#### 2

–ê–±–æ–Ω–µ–Ω—Ç—ã –≤ —Ç–µ–æ—Ä–∏–∏ –º–æ–≥—É—Ç —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å —Å—Ä–∞–∑—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ª—é–¥—å–º–∏. üòÅ –ù–æ –æ–±—ã—á–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —É—Å–ª—É–≥—É. –û–ø–ª–∞—Ç–∞ –≤–∑—ã–º–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥–æ–≥–æ –∑–≤–æ–Ω–∫–∞, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –æ–Ω–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –≤ —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è.
–ü–æ–ª—É—á–∞–µ—Ç—Å—è, –º–æ–∂–Ω–æ –Ω–µ –¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ CDR –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ, —á—Ç–æ –∞–±–æ–Ω–µ–Ω—Ç —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏?

https://www.bolshoyvopros.ru/questions/2777433-kak-razgovarivat-po-telefonu-s-dvumja-ljudmi-odnovremenno.html?ysclid=m9lj4pok4u824786197
https://mts-link.ru/blog/konferenc-svyaz-mts/

–¢–æ–≥–¥–∞ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å 2 —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã, —á—Ç–æ–±—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, —Ä–∞–∑—Ä–µ—à–∞–µ–º –ª–∏ –∞–±–æ–Ω–µ–Ω—Ç–∞–º —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ª—é–¥—å–º–∏?

#### 3

–ï—Å–ª–∏ –∞–±–æ–Ω–µ–Ω—Ç –∑–≤–æ–Ω–∏—Ç –Ω–∞ –º–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä, —Ç–æ –≤ CDR –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞–±—Ä–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –∏–ª–∏ —Ç–æ—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–∏–∑–æ—à–ª–∞ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è?

#### 4 

–ü–æ—Ç–æ–∫–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–ª—É—á–∞–π–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–ú–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞ –∑–≤–æ–Ω–∫–æ–≤.

#### 5

–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

docker compose down
gradle clean build
docker build -t romashka-telecom/cdr cdr
docker build -t romashka-telecom/brt brt
docker build -t romashka-telecom/hrs hrs
docker build -t romashka-telecom/crm crm
docker-compose up --build

// docker compose up -d
- –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã RabbitMQ
docker-compose up --build
- –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
docker run -d -p 8080:8080 --name romashka-telecom romashka-telecom

docker compose logs -f romashka-telecom

#### 6

–î–æ–±–∞–≤–∏–ª–∞ –ª–æ–º–±–æ–∫ –≤ –ø—Ä–æ–µ–∫—Ç

#### 7

–ï—Å–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –∑–≤–æ–Ω–∫–∏, –Ω–µ —Å–æ–±–∏—Ä–∞—é—â–∏–µ—Å—è –≤ –ø–∞–∫–µ—Ç –ø–æ 10, —Ç–æ –æ–Ω–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è


#### –ú–æ–¥–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è CDR

–í —Ä–µ–∂–∏–º–µ Simulation –Ω–∞–º –≤–∞–∂–Ω–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É¬ª, –∞ —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ö–æ–¥ –≤—Ä–µ–º–µ–Ω–∏: –∑–∞–ø–∏—Å–∏ CDR –¥–æ–ª–∂–Ω—ã —É—Ö–æ–¥–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏—Å—å ¬´–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏¬ª, –Ω–æ —Å —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º (–∏–ª–∏ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ–º) –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É —Ö–æ–¥—É —á–∞—Å–æ–≤.

–î–ª—è —ç—Ç–æ–≥–æ:
1. –ó–∞–¥–∞–µ–º –ø–µ—Ä–∏–æ–¥ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç

–í –≥–æ–¥—É –ø—Ä–∏–º–µ—Ä–Ω–æ 365 –¥–Ω–µ–π * 24 —á * 3600 —Å = 31 536 000 —Å–µ–∫—É–Ω–¥.

–í 3 –º–∏–Ω—É—Ç–∞—Ö ‚Äî 3 * 60 = 180 —Å–µ–∫—É–Ω–¥.

–ó–Ω–∞—á–∏—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = –º–æ–¥–µ–ª—å–Ω–æ–µ_–≤—Ä–µ–º—è_–≤_—Å–µ–∫—É–Ω–¥–∞—Ö / —Ä–µ–∞–ª—å–Ω—ã–µ_—Å–µ–∫—É–Ω–¥—ã = 31 536 000 / 180 ‚âà 175 200.

–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–¥–∞–µ—Ç—Å—è –≤ CDR –≤ application.yml
–∏ –≤ docker-compose.yml

–ï—Å–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–∞–≤–µ–Ω 1.0, —Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
–≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤—Ä–µ–º—è

// TODO: —ç—Ç–æ –µ—â—ë –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ CDR –±–µ—Ä–µ–º –≤—Ä–µ–º—è
   –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∑–≤–æ–Ω–∫–∞
   –∏ –ø–æ–ª—É—á–∞–µ–º —Ç–æ—á–Ω—É—é –¥–∞—Ç—É-–≤—Ä–µ–º—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ,
   –∫–æ–≥–¥–∞ —ç—Ç–∞ –ø–∞—Ä—Ç–∏—è –¥–æ–ª–∂–Ω–∞ —É—á—Ç–∏, —á—Ç–æ–±—ã
   –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –º–æ–¥–µ–ª—å–Ω–æ–º—É

–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —Å—á–µ—Ç—á–∏–∫—É,
—Å –º–æ–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ–∫—É–Ω–¥–∞–º–∏.

3. –ü–ª–∞–Ω–∏—Ä—É–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —á–µ—Ä–µ–∑ TaskScheduler
   –∏—Å–ø–æ–ª—å–∑—É–µ–º Spring‚Äôs TaskScheduler.schedule(Runnable, Instant).

4. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
   –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —á–µ—Ä–µ–∑ RabbitMQ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ fileName –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —à—Ç–∞–º–ø –º–æ–¥–µ–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:

   